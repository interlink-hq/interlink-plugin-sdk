{"openapi": "3.1.0", "info": {"title": "InterLink Plugin API", "description": "OpenAPI spec for InterLink API Server <-> Plugin communication", "version": "0.3.8-rc1"}, "paths": {"/create": {"post": {"summary": "Create pods", "operationId": "create_pod_create_post", "requestBody": {"content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/Pod"}, "type": "array", "title": "Pod"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateStruct"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/delete": {"post": {"summary": "Delete pod", "operationId": "delete_pod_delete_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PodRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "string", "title": "Response Delete Pod Delete Post"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/status": {"get": {"summary": "Get Pods' status", "operationId": "get_status_status_get", "requestBody": {"content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/PodRequest"}, "type": "array", "title": "Pods"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/PodStatus"}, "type": "array", "title": "Response Get Status Status Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/getLogs": {"get": {"summary": "Get Pods' logs", "operationId": "get_logs_getLogs_get", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LogRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"text/plain": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"ConfigMap": {"properties": {"metadata": {"$ref": "#/components/schemas/Metadata"}, "data": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Data"}, "binaryData": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Binarydata"}, "type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Type"}, "immutable": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Immutable"}}, "type": "object", "required": ["metadata", "data"], "title": "ConfigMap"}, "ConfigMapKeySelector": {"properties": {"key": {"type": "string", "title": "Key"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional"}}, "type": "object", "required": ["key"], "title": "ConfigMapKeySelector"}, "ConfigMapVolumeSource": {"properties": {"name": {"type": "string", "title": "Name"}, "items": {"anyOf": [{"items": {"$ref": "#/components/schemas/KeyToPath"}, "type": "array"}, {"type": "null"}], "title": "Items", "default": []}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional"}, "defaultMode": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Defaultmode"}}, "type": "object", "required": ["name"], "title": "ConfigMapVolumeSource"}, "Container": {"properties": {"name": {"type": "string", "title": "Name"}, "image": {"type": "string", "title": "Image"}, "tag": {"type": "string", "title": "Tag", "default": "latest"}, "command": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Command"}, "args": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Args", "default": []}, "resources": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Resources", "default": {}}, "volumeMounts": {"anyOf": [{"items": {"$ref": "#/components/schemas/VolumeMount"}, "type": "array"}, {"type": "null"}], "title": "Volumemounts", "default": []}, "env": {"anyOf": [{"items": {"$ref": "#/components/schemas/EnvVar"}, "type": "array"}, {"type": "null"}], "title": "Env"}, "securityContext": {"anyOf": [{"$ref": "#/components/schemas/SecurityContext"}, {"type": "null"}]}, "ports": {"anyOf": [{"items": {"$ref": "#/components/schemas/ContainerPort"}, "type": "array"}, {"type": "null"}], "title": "Ports"}}, "type": "object", "required": ["name", "image"], "title": "Container"}, "ContainerPort": {"properties": {"containerPort": {"type": "integer", "title": "Containerport"}, "hostIp": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hostip"}, "hostPort": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Hostport"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "protocol": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Protocol"}}, "type": "object", "required": ["containerPort"], "title": "ContainerPort"}, "ContainerStates": {"properties": {"terminated": {"anyOf": [{"$ref": "#/components/schemas/StateTerminated"}, {"type": "null"}]}, "running": {"anyOf": [{"$ref": "#/components/schemas/StateRunning"}, {"type": "null"}]}, "waiting": {"anyOf": [{"$ref": "#/components/schemas/StateWaiting"}, {"type": "null"}]}}, "type": "object", "title": "ContainerStates"}, "ContainerStatus": {"properties": {"name": {"type": "string", "title": "Name"}, "state": {"$ref": "#/components/schemas/ContainerStates"}}, "type": "object", "required": ["name", "state"], "title": "ContainerStatus"}, "CreateStruct": {"properties": {"PodUID": {"type": "string", "title": "Poduid"}, "PodJID": {"type": "string", "title": "Podjid"}}, "type": "object", "required": ["PodUID", "PodJID"], "title": "CreateStruct"}, "EnvVar": {"properties": {"name": {"type": "string", "title": "Name"}, "value": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Value"}, "valueFrom": {"anyOf": [{"$ref": "#/components/schemas/EnvVarSource"}, {"type": "null"}]}}, "type": "object", "required": ["name"], "title": "EnvVar"}, "EnvVarSource": {"properties": {"configMapKeyRef": {"anyOf": [{"$ref": "#/components/schemas/ConfigMapKeySelector"}, {"type": "null"}]}, "secretKeyRef": {"anyOf": [{"$ref": "#/components/schemas/SecretKeySelector"}, {"type": "null"}]}}, "type": "object", "title": "EnvVarSource"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "KeyToPath": {"properties": {"key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Key"}, "path": {"type": "string", "title": "Path"}, "mode": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Mode"}}, "type": "object", "required": ["key", "path"], "title": "KeyToPath"}, "LogOpts": {"properties": {"Tail": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Tail"}, "LimitBytes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Limitbytes"}, "Timestamps": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Timestamps"}, "Previous": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Previous"}, "Follow": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Follow"}, "SinceSeconds": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Sinceseconds"}, "SinceTime": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Sincetime"}}, "type": "object", "required": ["Previous", "Follow"], "title": "LogOpts"}, "LogRequest": {"properties": {"Namespace": {"type": "string", "title": "Namespace"}, "PodUID": {"type": "string", "title": "Poduid"}, "PodName": {"type": "string", "title": "Podname"}, "ContainerName": {"type": "string", "title": "Containername"}, "Opts": {"$ref": "#/components/schemas/LogOpts"}}, "type": "object", "required": ["Namespace", "PodUID", "PodName", "ContainerName", "Opts"], "title": "LogRequest"}, "Metadata": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "namespace": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Namespace"}, "uid": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Uid"}, "annotations": {"anyOf": [{"additionalProperties": {"type": "string"}, "type": "object"}, {"type": "null"}], "title": "Annotations", "default": {}}, "labels": {"anyOf": [{"additionalProperties": {"type": "string"}, "type": "object"}, {"type": "null"}], "title": "Labels", "default": {}}, "generateName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Generatename"}}, "type": "object", "title": "Metadata"}, "PersistentVolumeClaim": {"properties": {"spec": {"$ref": "#/components/schemas/PersistentVolumeClaimSpec"}}, "type": "object", "required": ["spec"], "title": "PersistentVolumeClaim"}, "PersistentVolumeClaimSpec": {"properties": {"accessModes": {"items": {"type": "string", "enum": ["ReadWriteOnce", "ReadOnlyMany", "ReadWriteMany"]}, "type": "array", "title": "Accessmodes"}, "resources": {"$ref": "#/components/schemas/VolumeResourceRequirements"}, "storageClassName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Storageclassname"}, "volumeAttributesClassName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Volumeattributesclassname"}, "volumeMode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Volumemode"}, "volumeName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Volumename"}}, "type": "object", "required": ["accessModes", "resources"], "title": "PersistentVolumeClaimSpec"}, "PersistentVolumeClaimVolumeSource": {"properties": {"claimName": {"type": "string", "title": "Claimname"}, "readOnly": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Readonly"}}, "type": "object", "required": ["claimName"], "title": "PersistentVolumeClaimVolumeSource"}, "Pod": {"properties": {"pod": {"$ref": "#/components/schemas/PodRequest"}, "container": {"items": {"$ref": "#/components/schemas/Volume"}, "type": "array", "title": "Container"}}, "type": "object", "required": ["pod", "container"], "title": "Pod"}, "PodRequest": {"properties": {"metadata": {"$ref": "#/components/schemas/Metadata"}, "spec": {"$ref": "#/components/schemas/PodSpec"}}, "type": "object", "required": ["metadata", "spec"], "title": "PodRequest"}, "PodSpec": {"properties": {"containers": {"items": {"$ref": "#/components/schemas/Container"}, "type": "array", "title": "Containers"}, "initContainers": {"anyOf": [{"items": {"$ref": "#/components/schemas/Container"}, "type": "array"}, {"type": "null"}], "title": "Initcontainers"}, "volumes": {"anyOf": [{"items": {"$ref": "#/components/schemas/PodVolume"}, "type": "array"}, {"type": "null"}], "title": "Volumes"}, "preemptionPolicy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Preemptionpolicy"}, "priorityClassName": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Priorityclassname"}, "priority": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Priority"}, "restartPolicy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Restartpolicy"}, "terminationGracePeriodSeconds": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Terminationgraceperiodseconds"}}, "type": "object", "required": ["containers"], "title": "PodSpec"}, "PodStatus": {"properties": {"name": {"type": "string", "title": "Name"}, "UID": {"type": "string", "title": "Uid"}, "JID": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Jid"}, "namespace": {"type": "string", "title": "Namespace"}, "containers": {"items": {"$ref": "#/components/schemas/ContainerStatus"}, "type": "array", "title": "Containers"}}, "type": "object", "required": ["name", "UID", "namespace", "containers"], "title": "PodStatus"}, "PodVolume": {"properties": {"name": {"type": "string", "title": "Name"}, "emptyDir": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Emptydir"}, "secret": {"anyOf": [{"$ref": "#/components/schemas/SecretVolumeSource"}, {"type": "null"}]}, "configMap": {"anyOf": [{"$ref": "#/components/schemas/ConfigMapVolumeSource"}, {"type": "null"}]}, "persistentVolumeClaim": {"anyOf": [{"$ref": "#/components/schemas/PersistentVolumeClaimVolumeSource"}, {"type": "null"}]}}, "type": "object", "required": ["name"], "title": "PodVolume"}, "Secret": {"properties": {"metadata": {"$ref": "#/components/schemas/Metadata"}, "data": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Data"}, "stringData": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Stringdata"}, "type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Type"}, "immutable": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Immutable"}}, "type": "object", "required": ["metadata"], "title": "Secret"}, "SecretKeySelector": {"properties": {"key": {"type": "string", "title": "Key"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional"}}, "type": "object", "required": ["key"], "title": "SecretKeySelector"}, "SecretVolumeSource": {"properties": {"secretName": {"type": "string", "title": "Secretname"}, "items": {"anyOf": [{"items": {"$ref": "#/components/schemas/KeyToPath"}, "type": "array"}, {"type": "null"}], "title": "Items", "default": []}, "optional": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Optional"}, "defaultMode": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Defaultmode"}}, "type": "object", "required": ["secretName"], "title": "SecretVolumeSource"}, "SecurityContext": {"properties": {"allowPrivilegeEscalation": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Allowprivilegeescalation"}, "privileged": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Privileged"}, "procMount": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Procmount"}, "readOnlyFileSystem": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Readonlyfilesystem"}, "runAsGroup": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Runasgroup"}, "runAsNonRoot": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Runasnonroot"}, "runAsUser": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Runasuser"}}, "type": "object", "title": "SecurityContext"}, "StateRunning": {"properties": {"startedAt": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Startedat"}}, "type": "object", "title": "StateRunning"}, "StateTerminated": {"properties": {"exitCode": {"type": "integer", "title": "Exitcode"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "type": "object", "required": ["exitCode"], "title": "StateTerminated"}, "StateWaiting": {"properties": {"message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Message"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "type": "object", "title": "StateWaiting"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "Volume": {"properties": {"name": {"type": "string", "title": "Name"}, "configMaps": {"anyOf": [{"items": {"$ref": "#/components/schemas/ConfigMap"}, "type": "array"}, {"type": "null"}], "title": "Configmaps"}, "secrets": {"anyOf": [{"items": {"$ref": "#/components/schemas/Secret"}, "type": "array"}, {"type": "null"}], "title": "Secrets"}, "emptyDirs": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Emptydirs"}, "persistentVolumeClaims": {"anyOf": [{"items": {"$ref": "#/components/schemas/PersistentVolumeClaim"}, "type": "array"}, {"type": "null"}], "title": "Persistentvolumeclaims"}}, "type": "object", "required": ["name"], "title": "Volume"}, "VolumeMount": {"properties": {"name": {"type": "string", "title": "Name"}, "mountPath": {"type": "string", "title": "Mountpath"}, "subPath": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Subpath"}, "readOnly": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Readonly", "default": false}, "mountPropagation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mountpropagation"}}, "type": "object", "required": ["name", "mountPath"], "title": "VolumeMount"}, "VolumeResourceRequirements": {"properties": {"requests": {"type": "object", "title": "Requests"}, "limits": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Limits"}}, "type": "object", "required": ["requests"], "title": "VolumeResourceRequirements"}}}}